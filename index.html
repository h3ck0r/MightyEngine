<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mighty Engine</title>
    <link rel="icon" href="pictures/ico.png">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="main-menu">
        <div>Welcome to Mighty Engine ðŸ‘»</div>
        <div>(Please note that this is a very early version and bugs are possible)</div>
        <button id="exit-button">Ok</button>
    </div>
    <button id="show-menu-btn" style="display: none;">â˜°</button>
    <div id="right-menu">
        <button id="close-menu-btn">âœ–</button>
        <div>
            <div>
                <span id="fps-counter" class="no-events">FPS: 0 | Frame Time: 0ms</span>
            </div>
            <div>
                <span id="player-coords" class="no-events">x: 0 y: 0 z: 0</span>
            </div>
            <div>
                <span id="player-rotation" class="no-events">rx: 0 ry: 0 rz: 0</span>
            </div>
            <hr>

            <div>
                <label for="scene-selector" class="no-events">Scene:</label>
                <select id="scene-selector"></select>
            </div>

            <div>
                <label for="graphics-selector" class="no-events">Graphics Preset:</label>
                <select id="graphics-selector"></select>
            </div>

            <hr>
            <span class="no-events">Global Lighting:</span>
            <button class="toggle-btn" onclick="toggleSection('lighting-controls')">+</button>
            <div id="lighting-controls" style="display: none; margin-top: 10px;">
                <div id="input-lighting-dir-x" style="display: flex; gap: 10px; align-items: center;">
                    <span class="no-events">Direction X:</span>
                    <div class="slider-container">
                        <input type="range" min="-100" max="100" step="0.1" id="lighting-dir-x"
                            oninput="updateValue('lighting-dir-x', this.value)" />
                    </div>
                    <span class="no-events" id="lighting-dir-x-value">0</span>
                </div>
                <div id="input-lighting-dir-y" style="display: flex; gap: 10px; align-items: center;">
                    <span class="no-events">Direction Y:</span>
                    <div class="slider-container">
                        <input type="range" min="-100" max="100" step="0.1" id="lighting-dir-y"
                            oninput="updateValue('lighting-dir-y', this.value)" />
                    </div>
                    <span class="no-events" id="lighting-dir-y-value">0</span>
                </div>

                <div id="input-lighting-dir-z" style="display: flex; gap: 10px; align-items: center;">
                    <span class="no-events">Direction Z:</span>
                    <div class="slider-container">
                        <input type="range" min="-100" max="100" step="0.1" id="lighting-dir-z"
                            oninput="updateValue('lighting-dir-z', this.value)" />
                    </div>
                    <span class="no-events" id="lighting-dir-z-value">0</span>
                </div>
                <div id="input-lighting-pos-x" style="display: flex; gap: 10px; align-items: center;">
                    <span class="no-events">Position X:</span>
                    <div class="slider-container">
                        <input type="range" min="-100" max="100" step="0.1" value="10" id="lighting-pos-x"
                            oninput="updateValue('lighting-pos-x', this.value)" />
                    </div>
                    <span class="no-events" id="lighting-pos-x-value">0</span>
                </div>
                <div id="input-lighting-pos-z" style="display: flex; gap: 10px; align-items: center;">
                    <span class="no-events">Position Z:</span>
                    <div class="slider-container">
                        <input type="range" min="-100" max="100" step="0.1" value="0" id="lighting-pos-z"
                            oninput="updateValue('lighting-pos-z', this.value)" />
                    </div>
                    <span class="no-events" id="lighting-pos-z-value">0</span>
                </div>
                <div id="input-lighting-pos-y" style="display: flex; gap: 10px; align-items: center;">
                    <span class="no-events">Position Y:</span>
                    <div class="slider-container">
                        <input type="range" min="-100" max="100" step="0.1" value="10" id="lighting-pos-y"
                            oninput="updateValue('lighting-pos-y', this.value)" />
                    </div>
                    <span class="no-events" id="lighting-pos-y-value">0</span>
                </div>
                <div id="input-lighting-w" style="display: flex; gap: 10px; align-items: center;">
                    <span class="no-events">Intensity:</span>
                    <div class="slider-container">
                        <input type="range" min="0" max="2" value="1.0" step="0.1" id="lighting-w"
                            oninput="updateValue('lighting-w', this.value)" />
                    </div>
                    <span class="no-events" id="lighting-w-value">1.0</span>
                </div>
            </div>
            <hr>

            <span class="no-events">Post-Processing Effects:</span>
            <button class="toggle-btn" onclick="toggleSection('post-processing-controls')">+</button>
            <div id="post-processing-controls" style="display: none;">
                <div>
                    <label><input type="checkbox" id="toggle-bloom"> Bloom</label>
                </div>
                <div id="input-bloom-str" style="display: flex; gap: 10px; align-items: center;">
                    <span class="no-events">Bloom Str:</span>
                    <div class="slider-container">
                        <input type="range" min="0" max="1" step="0.01" value="0.1" id="bloom-str"
                            oninput="updateValue('bloom-str', this.value)" />
                        <span class="no-events" id="bloom-str-value">0.1</span>
                    </div>
                </div>
                <div>
                    <label><input type="checkbox" id="toggle-motion-blur"> Motion Blur</label>
                </div>
                <div>
                    <label><input type="checkbox" id="toggle-exposure"> Exposure</label>
                </div>
                <div>
                    <label><input type="checkbox" id="toggle-stylized-shadows"> Stylized Shadows</label>
                </div>
                <div>
                    <label><input type="checkbox" id="toggle-scanlines"> Scanlines</label>
                </div>
                <div>
                    <label><input type="checkbox" id="toggle-random-noise"> Random Noise</label>
                </div>
                <div>
                    <label><input type="checkbox" id="toggle-posterize"> Posterize</label>
                </div>
                <div>
                    <label><input type="checkbox" id="toggle-chromatic-aberration"> Chromatic Abberation</label>
                </div>
                <div>
                    <label><input type="checkbox" id="toggle-vignette"> Vignette</label>
                </div>
                <div>
                    <label><input type="checkbox" id="toggle-invert-color"> Invert Colors</label>
                </div>
            </div>
            <hr>

            <div>
                <label><input type="checkbox" id="toggle-spheres"> Toggle Light Spheres</label>
            </div>
        </div>
        <script>
            function updateValue(inputId, value) {
                document.getElementById(inputId + '-value').textContent = value;
            }

            document.getElementById("close-menu-btn").addEventListener("click", function () {
                document.getElementById("right-menu").style.display = "none";
                document.getElementById("show-menu-btn").style.display = "block";
            });

            document.getElementById("show-menu-btn").addEventListener("click", function () {
                document.getElementById("right-menu").style.display = "block";
                document.getElementById("show-menu-btn").style.display = "none";
            });

            function toggleSection(sectionId) {
                const section = document.getElementById(sectionId);
                const currentDisplay = section.style.display;

                if (currentDisplay === "none") {
                    section.style.display = "block";
                } else {
                    section.style.display = "none";
                }
            }
        </script>
    </div>
    <canvas id="render-field" width="512" height="512"></canvas>
    <canvas id="debugCanvas" width="512" height="512"></canvas>
    <script type="module" src="main.js"></script>
</body>

</html>